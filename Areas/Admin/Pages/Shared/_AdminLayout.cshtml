@using Eduhunt.Applications.ProfileService
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@inject IServiceProvider ServiceProvider

@{
    var httpContext = HttpContextAccessor.HttpContext!;
    var isAuthenticated = httpContext.Request.Cookies.ContainsKey("IdToken");
    var profileService = ServiceProvider.GetRequiredService<ProfileService>();
    var userEmail = string.Empty;
    if (isAuthenticated)
    {
        var idToken = httpContext.Request.Cookies["IdToken"];
        userEmail = profileService.GetEmailFromToken(idToken!);
    }
}

<!DOCTYPE html>
<htm1l lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Eduhunt</title>
    <link href="https://cdn.syncfusion.com/ej2/20.3.47/material.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/amazon-cognito-identity-js/6.3.1/amazon-cognito-identity.min.js"></script>
</head>
<body>
    <div class="d-flex bg-light min-vh-100">
    <div class='bg-white'> 
        <nav class="d-flex flex-column bg-white" style="width: 15rem;">
            <!-- Logo or User Info -->
            <div class="d-flex align-items-center mb-4 mt-4">
                <img src="https://camo.githubusercontent.com/71f459f4a7558094d8b1cdc511cfcbf7c273b7217d7c9e1675cbbc93cd04ede0/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f323639323831302f323130343036312f34643839316563302d386637362d313165332d393230322d6637333934306431306632302e706e67" alt="Avatar" width="50" height="50" class="rounded-circle me-2">
                <div>
                    <span class="text-muted small">Administrator</span><br>
                </div>
            </div>

            <span class="fw-bold">Admin dashboard</span>

            <!-- Navigation Links as Buttons with Increased Height and Centered Text -->
            <ul class="nav flex-column text-capitalize mx-auto mt-3" style="width:90%">
                <li class="nav-item">
                    <a href="/Admin" class="btn btn-light w-100 text-start py-4 d-flex align-items-center">
                        Manage User
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/Admin/ManageCertificate" class="btn btn-light w-100 text-start py-4 d-flex align-items-center">
                        Manage Certificate
                    </a>
                </li>
                <li class="nav-item">
                    <button class="btn btn-danger w-100 text-start py-3 d-flex align-items-center">
                        Logout
                    </button>
                </li>
            </ul>
        </nav>
    </div>

    <div class="bg-white ms-3 w-100">
        @RenderBody()
    </div>
</div>

</body>
</htm1l>
